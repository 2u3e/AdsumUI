<div
  class="kt-sidebar-header hidden lg:flex items-center relative justify-between px-3 lg:px-6 shrink-0"
  id="sidebar_header"
>
  <a class="dark:hidden" href="#">
    <img
      class="default-logo min-h-[22px] max-w-none"
      src="assets/media/app/default-logo.svg"
    />
    <img
      class="small-logo min-h-[22px] max-w-none"
      src="assets/media/app/mini-logo.svg"
    />
  </a>
  <a class="hidden dark:block" href="#">
    <img
      class="default-logo min-h-[22px] max-w-none"
      src="assets/media/app/default-logo-dark.svg"
    />
    <img
      class="small-logo min-h-[22px] max-w-none"
      src="assets/media/app/mini-logo.svg"
    />
  </a>
  <button
    class="kt-btn kt-btn-outline kt-btn-icon size-[30px] absolute start-full top-2/4 -translate-x-2/4 -translate-y-2/4 rtl:translate-x-2/4"
    data-kt-toggle="body"
    data-kt-toggle-class="kt-sidebar-collapse"
    id="sidebar_toggle"
  >
    <i
      class="ki-filled ki-black-left-line kt-toggle-active:rotate-180 transition-all duration-300 rtl:translate rtl:rotate-180 rtl:kt-toggle-active:rotate-0"
    >
    </i>
  </button>
</div>
<div
  class="kt-sidebar-content flex grow shrink-0 py-5 pe-2"
  id="sidebar_content"
>
  <div
    class="kt-scrollable-y-hover grow shrink-0 flex ps-2 lg:ps-5 pe-1 lg:pe-3"
    data-kt-scrollable="true"
    data-kt-scrollable-dependencies="#sidebar_header"
    data-kt-scrollable-height="auto"
    data-kt-scrollable-offset="0px"
    data-kt-scrollable-wrappers="#sidebar_content"
    id="sidebar_scrollable"
  >
    <!-- Sidebar Menu -->
    <div
      class="kt-menu flex flex-col grow gap-1"
      data-kt-menu="true"
      data-kt-menu-accordion-expand-all="false"
      id="sidebar_menu"
    >
      <!-- Menu Search -->
      <div class="relative mb-3 -mx-1">
        <div class="kt-input">
          <i class="ki-filled ki-magnifier text-muted-foreground text-base"></i>
          <input
            type="text"
            placeholder="Menüde ara..."
            [value]="searchQuery()"
            (input)="onSearchInput($event)"
            (focus)="onSearchFocus()"
            (blur)="onSearchBlur()"
            (keydown)="onSearchKeydown($event)"
            class="w-full py-2.5"
          />
          @if (searchQuery()) {
            <button
              type="button"
              class="kt-btn kt-btn-icon kt-btn-ghost kt-btn-sm"
              (click)="clearSearch()"
            >
              <i class="ki-filled ki-cross text-muted-foreground"></i>
            </button>
          }
        </div>
        <!-- Search Results Dropdown -->
        @if (filteredMenuItems().length > 0 && isSearchFocused()) {
          <div
            class="absolute top-full left-0 right-0 mt-1 bg-background border border-border rounded-lg shadow-lg z-50 max-h-[300px] overflow-y-auto"
          >
            @for (item of filteredMenuItems(); track item.path) {
              <a
                [routerLink]="item.path"
                (click)="onResultClick(item.path)"
                class="flex flex-col px-3 py-2 hover:bg-accent/60 transition-colors cursor-pointer"
              >
                <span class="text-sm font-medium text-foreground">{{
                  item.title
                }}</span>
                @if (item.parent) {
                  <span class="text-xs text-muted-foreground">{{
                    item.parent
                  }}</span>
                }
              </a>
            }
          </div>
        }
        @if (
          searchQuery() && filteredMenuItems().length === 0 && isSearchFocused()
        ) {
          <div
            class="absolute top-full left-0 right-0 mt-1 bg-background border border-border rounded-lg shadow-lg z-50 p-3"
          >
            <span class="text-sm text-muted-foreground">Sonuç bulunamadı</span>
          </div>
        }
      </div>
      <!-- End Menu Search -->

      <div
        class="kt-menu-item"
        data-kt-menu-item-toggle="accordion"
        data-kt-menu-item-trigger="click"
      >
        <div
          class="kt-menu-link flex items-center grow cursor-pointer border border-transparent gap-[10px] ps-[10px] pe-[10px] py-[6px]"
          tabindex="0"
        >
          <span class="kt-menu-icon items-start text-muted-foreground w-[20px]">
            <i class="ki-filled ki-element-11 text-lg"> </i>
          </span>
          <span
            class="kt-menu-title text-sm font-medium text-foreground kt-menu-item-active:text-primary kt-menu-link-hover:!text-primary"
          >
            Dashboards
          </span>
          <span
            class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]"
          >
            <span class="inline-flex kt-menu-item-show:hidden">
              <i class="ki-filled ki-plus text-[11px]"> </i>
            </span>
            <span class="hidden kt-menu-item-show:inline-flex">
              <i class="ki-filled ki-minus text-[11px]"> </i>
            </span>
          </span>
        </div>
        <div
          class="kt-menu-accordion gap-1 ps-[10px] relative before:absolute before:start-[20px] before:top-0 before:bottom-0 before:border-s before:border-border"
        >
          <div class="kt-menu-item">
            <a
              class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[14px] ps-[10px] pe-[10px] py-[8px]"
              href="#"
              tabindex="0"
            >
              <span
                class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
              >
              </span>
              <span
                class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
              >
                Light Sidebar1
              </span>
            </a>
          </div>
          <div class="kt-menu-item">
            <a
              class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[14px] ps-[10px] pe-[10px] py-[8px]"
              href="#"
              tabindex="0"
            >
              <span
                class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
              >
              </span>
              <span
                class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
              >
                Dark Sidebar1
              </span>
            </a>
          </div>
        </div>
      </div>
      <!-- Tanımlamalar -->
      <div
        class="kt-menu-item"
        data-kt-menu-item-toggle="accordion"
        data-kt-menu-item-trigger="click"
      >
        <div
          class="kt-menu-link flex items-center grow cursor-pointer border border-transparent gap-[10px] ps-[10px] pe-[10px] py-[6px]"
          tabindex="0"
        >
          <span class="kt-menu-icon items-start text-muted-foreground w-[20px]">
            <i class="ki-filled ki-setting-2 text-lg"> </i>
          </span>
          <span
            class="kt-menu-title text-sm font-medium text-foreground kt-menu-item-active:text-primary kt-menu-link-hover:!text-primary"
          >
            Tanımlamalar
          </span>
          <span
            class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]"
          >
            <span class="inline-flex kt-menu-item-show:hidden">
              <i class="ki-filled ki-plus text-[11px]"> </i>
            </span>
            <span class="hidden kt-menu-item-show:inline-flex">
              <i class="ki-filled ki-minus text-[11px]"> </i>
            </span>
          </span>
        </div>
        <div
          class="kt-menu-accordion gap-1 ps-[10px] relative before:absolute before:start-[20px] before:top-0 before:bottom-0 before:border-s before:border-border"
        >
          <!-- Sistem Yönetimi (Alt Klasör) -->
          <div
            class="kt-menu-item"
            data-kt-menu-item-toggle="accordion"
            data-kt-menu-item-trigger="click"
          >
            <div
              class="kt-menu-link border border-transparent grow cursor-pointer gap-[14px] ps-[10px] pe-[10px] py-[8px]"
              tabindex="0"
            >
              <span
                class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
              >
              </span>
              <span
                class="kt-menu-title text-2sm font-normal me-1 text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-medium kt-menu-link-hover:!text-primary"
              >
                Sistem Yönetimi
              </span>
              <span
                class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]"
              >
                <span class="inline-flex kt-menu-item-show:hidden">
                  <i class="ki-filled ki-plus text-[11px]"> </i>
                </span>
                <span class="hidden kt-menu-item-show:inline-flex">
                  <i class="ki-filled ki-minus text-[11px]"> </i>
                </span>
              </span>
            </div>
            <div
              class="kt-menu-accordion gap-1 relative before:absolute before:start-[32px] ps-[22px] before:top-0 before:bottom-0 before:border-s before:border-border"
            >
              <!-- Reference Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/reference"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Reference Yönetimi
                  </span>
                </a>
              </div>
              <!-- Reference Data Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/reference-data"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Reference Data Yönetimi
                  </span>
                </a>
              </div>
              <!-- Menü Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/menu"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Menü Yönetimi
                  </span>
                </a>
              </div>
            </div>
          </div>

          <!-- Organizasyon Yönetimi (Alt Klasör) -->
          <div
            class="kt-menu-item"
            data-kt-menu-item-toggle="accordion"
            data-kt-menu-item-trigger="click"
          >
            <div
              class="kt-menu-link border border-transparent grow cursor-pointer gap-[14px] ps-[10px] pe-[10px] py-[8px]"
              tabindex="0"
            >
              <span
                class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
              >
              </span>
              <span
                class="kt-menu-title text-2sm font-normal me-1 text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-medium kt-menu-link-hover:!text-primary"
              >
                Organizasyon Yönetimi
              </span>
              <span
                class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]"
              >
                <span class="inline-flex kt-menu-item-show:hidden">
                  <i class="ki-filled ki-plus text-[11px]"> </i>
                </span>
                <span class="hidden kt-menu-item-show:inline-flex">
                  <i class="ki-filled ki-minus text-[11px]"> </i>
                </span>
              </span>
            </div>
            <div
              class="kt-menu-accordion gap-1 relative before:absolute before:start-[32px] ps-[22px] before:top-0 before:bottom-0 before:border-s before:border-border"
            >
              <!-- Kullanıcı Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/user-management"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Kullanıcı Yönetimi
                  </span>
                </a>
              </div>
              <!-- Vatandaş Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/citizen"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Vatandaş Yönetimi
                  </span>
                </a>
              </div>
              <!-- Birim Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/organization"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Birim Yönetimi
                  </span>
                </a>
              </div>
              <!-- Rol Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/role"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    Rol Yönetimi
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- İş Emri Yönetimi -->
      <div
        class="kt-menu-item"
        data-kt-menu-item-toggle="accordion"
        data-kt-menu-item-trigger="click"
      >
        <div
          class="kt-menu-link flex items-center grow cursor-pointer border border-transparent gap-[10px] ps-[10px] pe-[10px] py-[6px]"
          tabindex="0"
        >
          <span class="kt-menu-icon items-start text-muted-foreground w-[20px]">
            <i class="ki-filled ki-clipboard text-lg"> </i>
          </span>
          <span
            class="kt-menu-title text-sm font-medium text-foreground kt-menu-item-active:text-primary kt-menu-link-hover:!text-primary"
          >
            İş Emri Yönetimi
          </span>
          <span
            class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]"
          >
            <span class="inline-flex kt-menu-item-show:hidden">
              <i class="ki-filled ki-plus text-[11px]"> </i>
            </span>
            <span class="hidden kt-menu-item-show:inline-flex">
              <i class="ki-filled ki-minus text-[11px]"> </i>
            </span>
          </span>
        </div>
        <div
          class="kt-menu-accordion gap-1 ps-[10px] relative before:absolute before:start-[20px] before:top-0 before:bottom-0 before:border-s before:border-border"
        >
          <!-- Tanımlamalar (Alt Klasör) -->
          <div
            class="kt-menu-item"
            data-kt-menu-item-toggle="accordion"
            data-kt-menu-item-trigger="click"
          >
            <div
              class="kt-menu-link border border-transparent grow cursor-pointer gap-[14px] ps-[10px] pe-[10px] py-[8px]"
              tabindex="0"
            >
              <span
                class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
              >
              </span>
              <span
                class="kt-menu-title text-2sm font-normal me-1 text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-medium kt-menu-link-hover:!text-primary"
              >
                Tanımlamalar
              </span>
              <span
                class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]"
              >
                <span class="inline-flex kt-menu-item-show:hidden">
                  <i class="ki-filled ki-plus text-[11px]"> </i>
                </span>
                <span class="hidden kt-menu-item-show:inline-flex">
                  <i class="ki-filled ki-minus text-[11px]"> </i>
                </span>
              </span>
            </div>
            <div
              class="kt-menu-accordion gap-1 relative before:absolute before:start-[32px] ps-[22px] before:top-0 before:bottom-0 before:border-s before:border-border"
            >
              <!-- İş Tipi Yönetimi -->
              <div class="kt-menu-item">
                <a
                  class="kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 dark:menu-item-active:border-border kt-menu-item-active:rounded-lg hover:bg-accent/60 hover:rounded-lg gap-[5px] ps-[10px] pe-[10px] py-[8px]"
                  routerLink="/work-type"
                  routerLinkActive="kt-menu-item-active"
                  tabindex="0"
                >
                  <span
                    class="kt-menu-bullet flex w-[6px] -start-[3px] rtl:start-0 relative before:absolute before:top-0 before:size-[6px] before:rounded-full rtl:before:translate-x-1/2 before:-translate-y-1/2 kt-menu-item-active:before:bg-primary kt-menu-item-hover:before:bg-primary"
                  >
                  </span>
                  <span
                    class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold kt-menu-link-hover:!text-primary"
                  >
                    İş Tipi Yönetimi
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End of Sidebar Menu -->
  </div>
</div>
